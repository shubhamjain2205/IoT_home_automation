(this["webpackJsonphome-automation"]=this["webpackJsonphome-automation"]||[]).push([[0],{131:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},163:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){},170:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(22),s=n.n(a),o=(n(131),n(16)),i=(n(132),n(133),n(8)),l=n.n(i),u=n(12),j=n(64),d=j.a.apps.length?j.a.app():j.a.initializeApp({apiKey:"AIzaSyAaaOSxtXUJ5ec3uvyra_CiFiytcTSnpLI",authDomain:"home-monitoring-c6386.firebaseapp.com",projectId:"home-monitoring-c6386",storageBucket:"home-monitoring-c6386.appspot.com",messagingSenderId:"189021564727",appId:"1:189021564727:web:b9fb911b78c7d3b3e934b2"}),b=(d.firestore(),d.auth()),h=new j.a.auth.GoogleAuthProvider,p=(n(90),n(202)),f=n(68),m=n.n(f),x=function(e){return"update?api_key=FW8F6DEGWF2P9CEG&".concat(e)},O=function(e){return"channels/1336379/fields/".concat(e,"/last?api_key=5S084POR0ECOINTN")},g=function(e){return"https://thingspeak.com/channels/1336379/charts/".concat(e,"?bgcolor=%23ffffff&color=%23d62020&dynamic=true&results=60&type=line&update=15")},v=m.a.create({baseURL:"http://localhost:8000/"});v.interceptors.request.use((function(e){return e.headers.post["Content-Type"]="application/json",e.headers.common.Authorization="bearer ".concat(localStorage.jwtToken),e}));var k=v,w=n(69),y=n(23),N=n(53),S=Object(N.b)({name:"user",initialState:{user:null},reducers:{login:function(e,t){e.user=t.payload},logout:function(e){e.user=null}}}),C=S.actions,I=C.login,L=C.logout,_=function(e){return e.user.user},E=S.reducer,T=n(3);var B=function(){var e=Object(r.useRef)(null),t=Object(r.useRef)(null),n=Object(r.useRef)(null),c=Object(r.useRef)(null),a=Object(r.useState)(!1),s=Object(o.a)(a,2),i=s[0],j=s[1];return Object(T.jsx)(T.Fragment,{children:i?Object(T.jsx)(R,{}):Object(T.jsx)("div",{className:"signup",children:Object(T.jsxs)("form",{children:[Object(T.jsx)("h1",{children:"Sign Up "}),Object(T.jsx)("input",{ref:n,placeholder:"First Name",type:"text"}),Object(T.jsx)("input",{ref:c,placeholder:"Last Name",type:"text"}),Object(T.jsx)("input",{ref:e,placeholder:"Email / Username",type:"email"}),Object(T.jsx)("input",{ref:t,placeholder:"Password",type:"password"}),Object(T.jsx)("div",{children:" "}),Object(T.jsx)(p.a,{onClick:function(r){(function(){var r=Object(u.a)(l.a.mark((function r(){var a,s;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a={firstname:n.current.value,lastname:c.current.value,username:e.current.value,password:t.current.value},console.log(a,"aayush--dataa"),r.prev=2,r.next=5,k.post("users/signup",a);case 5:s=r.sent,console.log(s.data,"signup"),j(!0),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),console.log(r.t0);case 13:case"end":return r.stop()}}),r,null,[[2,10]])})));return function(){return r.apply(this,arguments)}})()()},children:"Sign Up"}),Object(T.jsxs)("h4",{children:[Object(T.jsx)("span",{className:"signup__user",children:"Have an Account? "}),Object(T.jsx)("span",{className:"signup__link",onClick:function(){return j(!0)},children:"Sign In."})]}),Object(T.jsx)(p.a,{onClick:function(){b.signInWithPopup(h).catch(alert)},children:"Sign In with Google"})]})})})};var R=function(){var e=Object(r.useRef)(null),t=Object(r.useRef)(null),n=Object(y.b)(),c=Object(r.useState)(!1),a=Object(o.a)(c,2),s=a[0],i=a[1];return Object(T.jsx)(T.Fragment,{children:s?Object(T.jsx)(B,{}):Object(T.jsx)("div",{className:"signup",children:Object(T.jsxs)("form",{children:[Object(T.jsx)("h1",{children:"Sign In "}),Object(T.jsx)("input",{ref:e,placeholder:"Email / Username",type:"email"}),Object(T.jsx)("input",{ref:t,placeholder:"Password",type:"password"}),Object(T.jsx)("div",{children:" "}),Object(T.jsx)(p.a,{onClick:function(r){(function(){var r=Object(u.a)(l.a.mark((function r(){var c,a,s,o;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c={username:e.current.value,password:t.current.value},console.log(c,"aayush--dataa"),r.prev=2,r.next=5,k.post("users/login",c);case 5:a=r.sent,console.log(a.data.token,"aayush--token"),s=a.data.token,localStorage.setItem("jwtToken",s),o=Object(w.a)(s),localStorage.setItem("creds",o._id),console.log(o,"aayush--decode"),n(I({token:s,uid:o._id,type:"node"})),r.next=18;break;case 15:r.prev=15,r.t0=r.catch(2),console.log(r.t0);case 18:case"end":return r.stop()}}),r,null,[[2,15]])})));return function(){return r.apply(this,arguments)}})()()},children:"Sign In"}),Object(T.jsxs)("h4",{children:[Object(T.jsx)("span",{className:"signup__user",children:"New User? "}),Object(T.jsx)("span",{className:"signup__link",onClick:function(){return i(!0)},children:"Sign Up now."})]}),Object(T.jsx)(p.a,{onClick:function(){b.signInWithPopup(h).catch(alert)},children:"Sign In with Google"})]})})})};var A=function(){return Object(T.jsxs)("div",{className:"login",children:[Object(T.jsx)("div",{className:"login__gradient"}),Object(T.jsx)(R,{})]})},z=n(118),W=n(203),F=Object(z.a)({typography:{fontFamily:["Poppins"].join(","),button:{textTransform:"none"}},palette:{contrastThreshold:2,primary:{main:"#0abb87",contrastText:"#364959"},secondary:{main:"#364959",contrastText:"#ffffff"},error:{main:"#018c63"}},props:{MuiButtonBase:{disableRipple:!0},MuiPopover:{elevation:1}}});function P(e){var t=e.children;return Object(T.jsx)(W.a,{theme:F,children:t})}var G=n(108),U=n(81),D=n(20),V=n(204),$=n(205),H=n(206),J=n(175),M=n(213),X=n(215),Y=n(109),q=Object(V.a)((function(e){return{jumbo:{background:"black no-repeat center",backgroundSize:"cover",height:"100%"},jumbohead:{marginTop:70,color:"white"},tilty:{position:"relative",width:"40%",height:"80%",transformStyle:"preserve-3d",transform:"perspective(1000px)",backgroundColor:e.palette.primary.main,display:"flex",justifyContent:"center",alignItems:"center",marginTop:30,borderRadius:"100%"},inner:{display:"inline-block",transform:"translateZ(60px)",fontWeight:"500",fontSize:"2.5rem",color:"white",letterSpacing:"0.15rem"}}}));var K=function(){var e=q();return Object(T.jsx)($.a,{style:{height:"40vh"},children:Object(T.jsx)(X.a,{fluid:!0,className:e.jumbo,children:Object(T.jsx)(H.a,{children:Object(T.jsxs)($.a,{container:!0,spacing:2,children:[Object(T.jsx)($.a,{item:!0,xs:12,md:9,children:Object(T.jsx)(J.a,{variant:"h2",className:e.jumbohead,children:"Welcome Back!"})}),Object(T.jsx)(M.a,{mdDown:!0,children:Object(T.jsx)($.a,{item:!0,xs:12,md:3,children:Object(T.jsx)(Y.a,{className:e.tilty,glare:!0,scale:1.3,maxGlare:0,children:Object(T.jsx)(J.a,{variant:"h6",className:e.inner,children:"\ud83c\udfe0"})})})})]})})})})},Z=n(43),Q=n(211),ee=n(207),te=m.a.create({baseURL:"https://api.thingspeak.com/"}),ne=n(75),re=n(214),ce=n(172),ae=n(77),se=Object(ce.a)((function(e){return{root:{width:62,height:26,padding:0,margin:e.spacing(1)},switchBase:{padding:1,"&$checked":{transform:"translateX(36px)",color:e.palette.common.white,"& + $track":{backgroundColor:"#0abb87",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#52d869",border:"6px solid #fff"}},thumb:{width:24,height:24},track:{borderRadius:13,border:"1px solid ".concat(e.palette.grey[400]),backgroundColor:ae.a[400],opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{}}}))((function(e){var t=e.classes,n=Object(ne.a)(e,["classes"]);return Object(T.jsx)(re.a,Object(Z.a)({focusVisibleClassName:t.focusVisible,disableRipple:!0,classes:{root:t.root,switchBase:t.switchBase,thumb:t.thumb,track:t.track,checked:t.checked}},n))})),oe=Object(N.b)({name:"intruder",initialState:{intruder:!1},reducers:{on:function(e){e.intruder=!0},off:function(e){e.intruder=!1}}}),ie=oe.actions,le=ie.on,ue=ie.off,je=function(e){return e.intruder.intruder},de=oe.reducer;var be=function(){var e=Object(y.b)(),t=Object(y.c)(je);Object(r.useEffect)((function(){(function(){var t=Object(u.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te.get(O(6));case 3:n=t.sent,console.log(n.data,"IntruderAlert"),1===(null===n||void 0===n?void 0:n.data)&&e(le()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[e]);var n=function(){var t=Object(u.a)(l.a.mark((function t(n){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!1===n.target.checked?0:1,t.prev=1,e(0===r?ue():le()),t.next=5,te.post(x("field6=".concat(r)));case 5:console.log(n.target.checked,"status"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),e(1===r?ue():le()),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(ee.a,{style:{marginLeft:-2},control:Object(T.jsx)(se,{name:"intruderalert",id:"6",checked:t,onChange:function(e){return n(e)}}),label:Object(T.jsx)(J.a,{variant:"h6",children:"Intruder Alert"})})})};var he=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],a=Object(y.c)(je);Object(r.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.get(O(3));case 3:t=e.sent,console.log(t.data,"lightbulb"),c(1===(null===t||void 0===t?void 0:t.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var s=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1===t.target.checked?0:1,e.prev=1,c(t.target.checked),e.next=5,te.post(x("field3=".concat(n)));case 5:console.log(t.target.checked,"status"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),c(!t.target.checked),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsx)(ee.a,{control:Object(T.jsx)(se,{name:"lightbulb",id:"3",checked:n,onChange:function(e){return s(e)},disabled:a}),style:{marginLeft:8},label:Object(T.jsx)(J.a,{variant:"h6",children:"Light Bulb"})})};var pe=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],a=Object(y.c)(je);Object(r.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.get(O(5));case 3:t=e.sent,console.log(t.data,"Almirah"),c(1===(null===t||void 0===t?void 0:t.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var s=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1===t.target.checked?0:1,e.prev=1,c(t.target.checked),e.next=5,te.post(x("field5=".concat(n)));case 5:console.log(t.target.checked,"status"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),c(!t.target.checked),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsx)(ee.a,{control:Object(T.jsx)(se,{name:"Almirah",id:"5",checked:n,onChange:function(e){return s(e)},disabled:a}),label:Object(T.jsx)(J.a,{variant:"h6",children:"Almirah"})})};var fe=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],a=Object(y.c)(je);Object(r.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.get(O(4));case 3:t=e.sent,console.log(t.data,"fan"),c(1===(null===t||void 0===t?void 0:t.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var s=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1===t.target.checked?0:1,e.prev=1,c(t.target.checked),e.next=5,te.post(x("field4=".concat(n)));case 5:console.log(t.target.checked,"status"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),c(!t.target.checked),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsx)(ee.a,{control:Object(T.jsx)(se,{name:"fan",id:"4",checked:n,onChange:function(e){return s(e)},disabled:a}),style:{marginLeft:-100},label:Object(T.jsx)(J.a,{variant:"h6",children:"Fan"})})},me=n(212),xe=n(210),Oe=n(177),ge=n(209),ve=n(216),ke=n(208),we=n(111),ye=Object(V.a)((function(){return{title:{backgroundColor:"#0abb87",color:"white",textAlign:"center",padding:"10px",fontWeight:"400",border:"1px solid lightgray",width:"100%"}}}));var Ne=function(e){var t=e.link,n=e.title,r=ye();return Object(T.jsxs)($.a,{container:!0,children:[Object(T.jsx)($.a,{item:!0,xs:12,className:r.title,children:Object(T.jsx)(J.a,{variant:"h5",children:n})}),Object(T.jsx)($.a,{item:!0,xs:12,children:Object(T.jsx)(we.a,{width:"100%",height:"260px",src:t})})]})},Se=Object(V.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",backgroundColor:e.palette.background.paper},gridList:{width:1e3,height:"92vh"},icon:{color:"rgba(255, 255, 255, 0.54)"},card:{width:1e3,height:"96vh",backgroundColor:"#02353C"}}}));var Ce=function(){var e=Se();return Object(T.jsx)(ve.a,{className:e.card,variant:"outlined",children:Object(T.jsx)(ke.a,{children:Object(T.jsx)("div",{className:e.root,children:Object(T.jsxs)(ge.a,{spacing:0,cellHeight:310,className:e.gridList,children:[Object(T.jsx)($.a,{item:!0,xs:12,md:6,children:Object(T.jsx)(Ne,{title:"Temperature",link:g(1)})}),Object(T.jsxs)($.a,{item:!0,xs:12,md:6,children:[Object(T.jsx)(Ne,{title:"Pir-Sensor",link:g(2)})," "]}),Object(T.jsx)($.a,{item:!0,xs:12,md:6,children:Object(T.jsx)(Ne,{title:"Light-Button",link:g(3)})}),Object(T.jsx)($.a,{item:!0,xs:12,md:6,children:Object(T.jsx)(Ne,{title:"Intruder-Button",link:g(6)})}),Object(T.jsx)($.a,{item:!0,xs:12,md:6,children:Object(T.jsx)(Ne,{title:"Almirah-Button",link:g(5)})}),Object(T.jsx)($.a,{item:!0,xs:12,md:6,children:Object(T.jsx)(Ne,{title:"Fan",link:g(4)})}),Object(T.jsx)($.a,{item:!0,xs:12,md:6,children:Object(T.jsx)(Ne,{title:"Buzzer",link:g(7)})}),Object(T.jsx)($.a,{item:!0,xs:12,md:6,children:Object(T.jsx)(Ne,{title:"Gas-Sensor",link:g(8)})})]})})})})},Ie=n(112),Le=n.n(Ie),_e=Object(V.a)((function(e){return{root:{marginLeft:-60,"& > *":{margin:e.spacing(1)}},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:"#05716c",boxShadow:e.shadows[5],padding:e.spacing(.7,1,.7,1)},btn:{fontSize:18,transition:"transform .2s","&:hover":{transform:"scale(1.2)"}}}}));var Ee=function(){var e=_e(),t=c.a.useState(!1),n=Object(o.a)(t,2),r=n[0],a=n[1];return Object(T.jsxs)("div",{className:e.root,children:[Object(T.jsx)(p.a,{className:e.btn,color:"primary",style:{height:"100%",width:"100%"},onClick:function(){a(!0)},startIcon:Object(T.jsx)(Le.a,{color:"secondary"}),children:"Activity Log"}),Object(T.jsx)(me.a,{className:e.modal,open:r,onClose:function(){a(!1)},closeAfterTransition:!0,BackdropComponent:xe.a,BackdropProps:{timeout:500},children:Object(T.jsx)(Oe.a,{in:r,children:Object(T.jsx)("div",{className:e.paper,children:Object(T.jsx)(Ce,{})})})})]})},Te=n(114),Be=n.n(Te),Re=n(113),Ae=n.n(Re),ze=Object(V.a)((function(){return{heat:{color:"red",marginBottom:5,marginLeft:5},cold:{color:"blue",marginBottom:5,marginLeft:5}}}));var We=function(){var e,t=ze(),n=Object(r.useState)(0),c=Object(o.a)(n,2),a=c[0],s=c[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te(O(1));case 3:t=e.sent,console.log(t.data,"temperature"),s(null===t||void 0===t?void 0:t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),t=setInterval(Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e();case 1:case"end":return t.stop()}}),t)}))),5e3);return function(){return clearInterval(t)}}),[]),Object(T.jsxs)(J.a,{variant:"h6",style:{marginTop:5},children:["Room Temperature:"," ",Object(T.jsxs)(Q.a,{style:{marginLeft:-1},fontSize:20,fontWeight:650,m:1,children:[a,"\xb0 C | ",(e=a,9*e/5+32),"\xb0 F"," ",a>20?Object(T.jsx)(Ae.a,{className:t.heat}):Object(T.jsx)(Be.a,{className:t.cold})]})]})};n(163);var Fe=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.get(O(7));case 3:t=e.sent,console.log(t.data,"Buzzer"),c(1===(null===t||void 0===t?void 0:t.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),t=setInterval(Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e();case 1:case"end":return t.stop()}}),t)}))),5e3);return function(){return clearInterval(t)}}),[]),Object(T.jsx)(T.Fragment,{children:n?Object(T.jsx)(T.Fragment,{children:Object(T.jsx)($.a,{item:!0,xs:12,style:{marginBottom:"3%"},children:Object(T.jsxs)($.a,{container:!0,children:[Object(T.jsx)($.a,{container:!0,item:!0,xs:2,md:5,direction:"row",justify:"flex-end",alignItems:"center",children:Object(T.jsx)(Q.a,{className:"".concat(n&&"circle-ripple")})}),Object(T.jsx)($.a,{item:!0,xs:8,md:6,style:{marginLeft:"3%"},children:Object(T.jsxs)(J.a,{children:[" ",Object(T.jsx)(Q.a,{fontSize:25,fontWeight:590,m:1,children:"\ud83d\udea8\ud83d\udea8EMERGENCY ALERT!\ud83d\udea8\ud83d\udea8"})]})})]})})}):null})},Pe=(n(99),n(115)),Ge=n.n(Pe);var Ue=function(){var e=Object(V.a)((function(){return{smoke:{color:"#C62828",marginBottom:5,marginLeft:5}}}))(),t=Object(r.useState)(0),n=Object(o.a)(t,2),c=n[0],a=n[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.get(O(8));case 3:t=e.sent,console.log(t.data,"Gas Sensor"),a(null===t||void 0===t?void 0:t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),t=setInterval(Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e();case 1:case"end":return t.stop()}}),t)}))),5e3);return function(){return clearInterval(t)}}),[]),Object(T.jsxs)(J.a,{variant:"h6",style:{marginTop:5,marginLeft:-4},children:[Object(T.jsxs)("p",{children:["Gas Sensor Value: ",Object(T.jsxs)("b",{style:{color:c>150?"#f35656":"#018c63"},children:[c," m\xb3 "]}),""]}),Object(T.jsx)(Q.a,{fontSize:25,fontWeight:900,m:1,children:c>150?Object(T.jsxs)("div",{className:"reading__danger",children:[Object(T.jsx)(Ge.a,{className:e.smoke}),Object(T.jsx)("p",{children:"Smoke Detected"})]}):Object(T.jsx)(J.a,{style:{marginLeft:-8},variant:"h6",color:"error",children:"No Smoke"})})]})},De=n(116),Ve=n.n(De);n(164);var $e=function(){var e=Object(V.a)((function(){return{person:{color:"#C62828",marginBottom:5,marginLeft:5}}}))(),t=Object(r.useState)(0),n=Object(o.a)(t,2),c=n[0],a=n[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.get(O(2));case 3:t=e.sent,console.log(t.data,"Pir sensor"),a(null===t||void 0===t?void 0:t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),t=setInterval(Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e();case 1:case"end":return t.stop()}}),t)}))),5e3);return function(){return clearInterval(t)}}),[]),Object(T.jsxs)(J.a,{variant:"h6",style:{marginTop:5,marginLeft:70},children:[Object(T.jsxs)("p",{children:["Pir Sensor Value:"," ",1===c?Object(T.jsx)("b",{style:{color:"#f35656"},children:"Active"}):Object(T.jsx)("b",{style:{color:"#018c63"},children:"Inactive"})," ",""]}),Object(T.jsx)(Q.a,{fontSize:25,fontWeight:900,m:1,children:1===c?Object(T.jsxs)("div",{className:"reading__detetcted",children:[Object(T.jsx)(Ve.a,{className:e.person,color:"#C62828"}),Object(T.jsx)("p",{children:"Intruder Detected "})]}):Object(T.jsx)(J.a,{style:{marginLeft:-8},variant:"h6",color:"error",children:"No one Detected"})})]})},He=Object(V.a)((function(e){return{align:{justifyContent:"center",alignItems:"center",display:"flex",marginBottom:10}}})),Je={bgcolor:"background.paper",borderColor:"#02353C",m:3,pt:3,border:8,style:{width:"100%",height:"100%"}};var Me=function(){var e=He();return Object(T.jsx)($.a,{style:{marginLeft:"30px",padding:"25px"},children:Object(T.jsxs)($.a,{container:!0,spacing:2,children:[Object(T.jsx)($.a,{item:!0,xs:12,children:Object(T.jsx)(J.a,{variant:"h4",children:Object(T.jsx)(Q.a,{fontWeight:500,m:1,children:"Control Panel"})})}),Object(T.jsx)(Fe,{}),Object(T.jsx)(Q.a,Object(Z.a)(Object(Z.a)({display:"flex",justifyContent:"center",borderRadius:16},Je),{},{children:Object(T.jsx)($.a,{item:!0,xs:12,children:Object(T.jsxs)($.a,{container:!0,children:[Object(T.jsx)($.a,{item:!0,xs:12,md:4,className:e.align,children:Object(T.jsx)(be,{})}),Object(T.jsx)($.a,{item:!0,xs:12,md:4,className:e.align,children:Object(T.jsx)(he,{})}),Object(T.jsx)($.a,{item:!0,xs:12,md:4,className:e.align,children:Object(T.jsx)(We,{})}),Object(T.jsx)($.a,{item:!0,xs:12,md:4,className:e.align,children:Object(T.jsx)(fe,{})}),Object(T.jsx)($.a,{item:!0,xs:12,md:4,className:e.align,children:Object(T.jsx)(pe,{})}),Object(T.jsx)($.a,{item:!0,xs:12,md:4,className:e.align,children:Object(T.jsx)(Ee,{})}),Object(T.jsx)($.a,{item:!0,xs:12,md:4,className:e.align,children:Object(T.jsx)(Ue,{})}),Object(T.jsx)($.a,{item:!0,xs:12,md:4,className:e.align,children:Object(T.jsx)($e,{})})]})})}))]})})},Xe=(n(165),n(117)),Ye=n.n(Xe),qe=Object(V.a)((function(e){return{title:{},name:{color:"white",marginRight:"1.8rem",fontSize:15,paddingTop:5},logout:{right:"20px",width:"auto",fontSize:10}}}));var Ke=function(){var e=qe(),t=Object(r.useState)(!1),n=Object(o.a)(t,2),c=n[0],a=n[1],s=Object(y.b)(),i=Object(r.useState)("User"),j=Object(o.a)(i,2),d=j[0],h=j[1],f=Object(y.c)(_);Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("users/checkJWTtoken");case 2:r=e.sent,console.log(r.data,"checkjwt"),h(null===(t=r.data)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.firstname);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();"node"===f.type?e():h(f.uid)}),[f]);var m=function(){window.scrollY>100?a(!0):a(!1)};return Object(r.useEffect)((function(){return window.addEventListener("scroll",m),function(){return window.removeEventListener("scroll",m)}}),[]),Object(T.jsx)(T.Fragment,{children:Object(T.jsx)("div",{className:"header ".concat(c&&"header__black"),children:Object(T.jsxs)("div",{className:"header__contents",children:[Object(T.jsx)("div",{className:"header__contentLeft",children:Object(T.jsx)(J.a,{variant:"h5",color:"primary",className:e.title,children:"Home Automation"})}),Object(T.jsxs)("div",{className:"header__contentRight",children:[Object(T.jsxs)(J.a,{variant:"h6",color:"secondary",className:e.name,children:["Hey ",d]}),Object(T.jsx)(p.a,{onClick:function(){b.signOut(),s(L()),localStorage.removeItem("jwtToken")},startIcon:Object(T.jsx)(Ye.a,{}),className:e.logout,color:"primary",variant:"contained",disableElevation:!0,children:"Log Out"})]})]})})})};var Ze=function(){return Object(T.jsxs)("div",{className:"home",children:[Object(T.jsx)(Ke,{}),Object(T.jsx)(K,{}),Object(T.jsx)(Me,{})]})},Qe=function(e){var t=e.component,n=e.user,r=Object(ne.a)(e,["component","user"]);return Object(T.jsx)(D.b,Object(Z.a)(Object(Z.a)({},r),{},{render:function(e){return n?Object(T.jsx)(t,Object(Z.a)({},e)):Object(T.jsx)(D.a,{to:"/login"})}}))};var et=function(){var e=Object(G.a)(b),t=Object(o.a)(e,1)[0],n=Object(y.b)(),c=Object(y.c)(_);return Object(r.useEffect)((function(){t&&n(I({token:t.uid,uid:t.displayName,type:"firebase"}))}),[n,t]),Object(r.useEffect)((function(){if(localStorage.getItem("jwtToken")){console.log(localStorage.jwtToken,"aayush-jwt");var e=localStorage.jwtToken,t=Object(w.a)(e),r=Date.now()/1e3;t.exp<r?n(L()):n(I({token:e,uid:t._id,type:"node"}))}}),[n]),Object(T.jsx)(P,{children:Object(T.jsx)("div",{className:"app",children:Object(T.jsx)(U.a,{children:c?Object(T.jsxs)(D.d,{children:[Object(T.jsx)(Qe,{path:"/home",user:c,component:Ze}),Object(T.jsx)(D.a,{to:"/home"})]}):Object(T.jsxs)(D.d,{children:[Object(T.jsx)(D.b,{path:"/login",component:A}),Object(T.jsx)(D.a,{to:"/login"})]})})})})},tt=Object(N.a)({reducer:{user:E,intruder:de}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(169);s.a.render(Object(T.jsx)(c.a.StrictMode,{children:Object(T.jsx)(y.a,{store:tt,children:Object(T.jsx)(et,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},90:function(e,t,n){},99:function(e,t,n){}},[[170,1,2]]]);
//# sourceMappingURL=main.9a722f97.chunk.js.map